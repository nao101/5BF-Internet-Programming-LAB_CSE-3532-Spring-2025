<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Contact Us</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="contact.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
</head>
</head>

<body>
  <header>
    <nav class="navbar">
        <div class="logo-container">
          <img height="45px" src="Images/stethoscope 1.png" alt="" />
          <h3 style="font-size: 28px">ùì¢ùì∂ùì™ùìªùìΩùìíùì™ùìªùìÆ</h3>
        </div>
        <ul class="nav-menu">
          <li class="nav-item">
            <a href="index.html" class="nav-link">Home</a>
          </li>
          <li class="nav-item">
            <a href="#service-container" class="nav-link">Services</a>
          </li>
          <li class="nav-item">
            <a href="doctors.html" class="nav-link">Our Doctors</a>
          </li>
          <li class="nav-item">
            <a href="#blog-container" class="nav-link">Blog</a>
          </li>
          <li class="nav-item">
            <a href="contact.html" class="nav-link">Contact us</a>
          </li>
          <li class="nav-item guest-nav">
            <a
              href="login.html"
              class="nav-link"
              style="color: whitesmoke; background-color: #037589"
              >Login</a
            >
          </li>
          <li
            class="nav-item profile-dropdown user-nav"
            style="display: none; position: relative"
          >
            <a href="#" class="profile-dropdown-btn">Profile</a>
            <ul class="profile-dropdown-menu">
              <li><a href="profile.html">Profile</a></li>
              <li><a href="appointments.html">All Appointments</a></li>
              <li><a href="serviceBookings.html">Booked Services</a></li>
              <li><a href="editProfile.html">Edit Profile</a></li>
            </ul>
          </li>

          <li class="nav-item user-nav" style="display: none">
            <a
              href="#"
              class="nav-link"
              onclick="handlelogOut()"
              style="color: whitesmoke; background-color: #037589"
              >Logout</a
            >
          </li>
        </ul>
      </nav>
  </header>

  <main>
    <div class="contact-container">
      <form id="contact-form" action="">
        <h1>Contact Us</h1>
        <div class="input-box">
          <label for="u" class="label-text">Name</label>
          <input type="text" name="u" id="u" placeholder="Type your name" required />
        </div>
        <div class="input-box">
          <label for="n" class="label-text">Email</label>
          <input type="email" name="n" id="n" placeholder="Type your email" required />
        </div>
        <div class="input-box">
          <label for="p" class="label-text">Problem</label>
          <textarea name="p" id="p" cols="36" rows="7" placeholder="Type your problem here"></textarea>
        </div>
        <button type="submit" class="btn">Send</button>
      </form>
    </div>
  </main>


  <footer class="footer_box">
    <div class="f_container">
      <div class="row">
        <div class="col">
          <h2>Smartcare</h2>
          <p>
            Lorem, ipsum dolor sit amet consectetur adipisicing ecessitatibus
            minus vitae autem obcaecati nihil doloribus!
          </p>
          <div class="social">
            <h4>Follow us</h4>
            <a href="#"><i class="fab fa-facebook"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="fab fa-youtube"></i></a>
            <a href="#"><i class="fab fa-twitter"></i></a>
            <a href="#"><i class="fab fa-linkedin"></i></a>
          </div>
        </div>
        <div class="col" id="services">
          <h3>Company</h3>
          <div class="links">
            <a href="index.html">Home</a>
            <a href="contact.html">Contact us</a>
            <a href="service.html">Service</a>
            <a href="index.html#blog-container">Blog</a>
          </div>
        </div>
        <div class="col" id="useful_links">
          <h3>Support</h3>
          <div class="links">
            <a href="contact.html">Help Center</a>
            <a href="privacy_policy.html">Privacy policy</a>
            <a href="term_of_service.html">Terms of Services</a>
            <a href="faq.html">FAQ</a>
          </div>
        </div>
        <div class="col" id="contact">
          <h3>Contact</h3>
          <div class="contact_details">
            <i class="fa fa-location"></i>
            <p>Tower-4,CDA Avenue,Chattogram</p>
          </div>
          <div class="contact_details">
            <i class="fa fa-phone"></i>
            <p>+8801298374653</p>
          </div>
          <div class="contact_details">
            <i class="fa fa-envelope"></i>
            <p>smartcare@gmail.com</p>
          </div>
        </div>
      </div>
    </div>
    <hr />
    <p class="footer-bottom-text">
      Copyright ¬© Smartcare. All Rights Reserved
    </p>
  </footer>

  <script src="logout.js"></script>
  <script>
    document.getElementById("contact-form").addEventListener("submit", function (e) {
      e.preventDefault(); // prevent form from reloading

      const data = {
        name: document.getElementById("u").value,
        email: document.getElementById("n").value,
        problem: document.getElementById("p").value
      };

      fetch("http://127.0.0.1:8000/contact_us/", {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify(data)
      })
        .then(async (res) => {
          if (!res.ok) throw new Error("Failed to send message.");
          return res.json();
        })
        .then((response) => {
          document.getElementById("contact-form").reset();
          alert("Your message has been sent successfully!");
        })
        .catch((error) => {
          alert("Something went wrong. Please try again.");
          console.error(error);
        });

    });
  </script>
<script>
      window.addEventListener("DOMContentLoaded", () => {
        const token = localStorage.getItem("token");

        if (token) {
          document
            .querySelectorAll(".user-nav")
            .forEach((el) => (el.style.display = "inline-block"));
          document
            .querySelectorAll(".guest-nav")
            .forEach((el) => (el.style.display = "none"));
        } else {

          document
            .querySelectorAll(".user-nav")
            .forEach((el) => (el.style.display = "none"));
          document
            .querySelectorAll(".guest-nav")
            .forEach((el) => (el.style.display = "inline-block"));
        }
      });

      
      //profile dropdown
      document
        .querySelector(".profile-dropdown-btn")
        .addEventListener("click", function (event) {
          event.preventDefault();
          document.querySelector(".profile-dropdown").classList.toggle("show");
        });

      document.addEventListener("click", function (event) {
        if (!event.target.closest(".profile-dropdown")) {
          document.querySelector(".profile-dropdown").classList.remove("show");
        }
      });
    </script>
</body>

</html>